<?xml version="1.0" encoding="US-ASCII"?>
<!--
 -*- mode: Fundamental; tab-width: 4; -*-
 ex:ts=4

 $Id$

 Specification of the "_xins-std" calling convention.
-->

<cc-spec rcsversion="$Revision$" rcsdate="$Date$">
	<terminology>
		<term name="request">communication from a client to a server, intended to trigger a function invocation</term>
		<term name="client">entity that wishes to invoke a function that resides at a server</term>
		<term name="server">entity that hosts a number of functions that can be called by certain clients</term>
	</terminology>
	<requirements>
		<group side="client">
			<title>Request construction</title>
			<rule>A request <keyword>MUST</keyword> be a valid HTTP 1.1 request.</rule>
			<rule>A request <keyword>MUST</keyword> use the HTTP GET, POST or HEAD method.</rule>
			<rule>All set input parameters for a request <keyword>MUST</keyword> be specified in HTTP parameters.</rule>
			<rule>A request <keyword>MUST</keyword> consider input parameter names starting with an underscore reserved.</rule>
			<rule>A request <keyword>MUST</keyword> set the parameter <code>_function</code> to the name of the function to be invoked.</rule>
			<rule>A request <keyword>SHOULD</keyword> set the parameter <code>_convention</code> to the value <code>_xins-std</code>.</rule>
			<rule>A request <keyword>MUST NOT</keyword> set the parameter <code>_convention</code> to a value other <code>_xins-std</code>.</rule>
			<rule>A request <keyword>MUST</keyword> contain all input parameters that are set.</rule>
			<rule>An input parameter that has an empty value <keyword>SHALL</keyword> be considered unset.</rule>
			<rule>A request <keyword>SHOULD NOT</keyword> contain any input parameters that are unset.</rule>
		</group>
		<group side="client">
			<title>Response interpretation</title>
			<rule>A response that is not a valid HTTP 1.1 request <keyword>SHOULD</keyword> be considered erroneous.</rule>
		</group>
		<group side="server">
			<title>Request interpretation</title>
			<rule>A request <keyword>MUST NOT</keyword> trigger a function invocation unless it is not considered erroneous.</rule>
			<rule>If a request is an invalid HTTP 1.1 request, then it <keyword>SHOULD</keyword> be considered erroneous.</rule>
			<rule>If a request is considered unauthorized, then it <keyword>MUST</keyword> be considered erroneous.</rule>
		</group>
		<group side="server">
			<title>Response construction</title>
			<rule>An erroneous request <keyword>MUST</keyword> return an HTTP status code that indicates an error.</rule>
			<rule>A request that is not erroneous <keyword>MUST</keyword> return an HTTP status code that indicates an error.</rule>
			<rule>A response <keyword>MUST</keyword> be a valid HTTP 1.1 response.</rule>
		</group>
	</requirements>
</cc-spec>
