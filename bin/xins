#!/bin/sh
#
# -*- mode: Fundamental; tab-width: 4; -*-
# ex:ts=4
#
# $Id$
#
# Converts xins-project.xml in the current directory to an Ant build file and
# then passes control to Ant.
#

# Make sure XINS_HOME is set
if [ "${XINS_HOME}a" = "a" ]; then
	echo "`basename $0`: ERROR: XINS_HOME not set."
	exit 1
fi

# Recognize -version option
if [ "$1" = "-version" ]; then
	ant -q -f ${XINS_HOME}/build.xml version
	exit 0
fi

# Generate the build file
ant -q -f ${XINS_HOME}/src/ant/make-build.xml -Dxins_home=${XINS_HOME}

# Run Ant against the build file
if [ "$?a" = "0a" ]; then
	ant -f build/build.xml $*
fi
